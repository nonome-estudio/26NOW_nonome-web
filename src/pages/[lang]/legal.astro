---
import type { Lang } from '../../lib/i18n/i18n';
import { LANGS } from '../../lib/i18n/i18n';
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/layout/Header.astro';
import Footer from '../../components/layout/Footer.astro';

export async function getStaticPaths() {
  return LANGS.map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params as { lang: Lang };
const isEs = lang === 'es';

const t = {
  title: isEs ? 'Legal · Nonome' : 'Legal · Nonome',
  h1: isEs ? 'legal' : 'legal',
  noticeTitle: isEs ? 'aviso legal' : 'legal notice',
  privacyTitle: isEs ? 'privacidad' : 'privacy',
  cookiesTitle: isEs ? 'cookies' : 'cookies',
  notice: isEs
    ? [
        'Titular: nonome.sl.',
        'Domicilio: Calle Ancha, 26 · 24401 Ponferrada (León), España.',
        'Email de contacto: info@nonome.es.',
        'Este sitio es informativo y no constituye asesoramiento profesional. El contenido puede cambiar sin previo aviso.',
        'Si detectas un error o quieres solicitar retirada/corrección de contenido, escríbenos y lo revisamos.'
      ]
    : [
        'Owner: nonome.sl.',
        'Address: Calle Ancha, 26 · 24401 Ponferrada (León), Spain.',
        'Contact email: info@nonome.es.',
        'This website is informational and does not constitute professional advice. Content may change without notice.',
        'If you spot an error or want to request removal/correction of content, contact us and we will review it.'
      ],
  privacy: isEs
    ? [
        'Este sitio no utiliza analítica ni seguimiento (tracking) en v1.',
        'Si nos contactas por email, usaremos tus datos únicamente para responder y gestionar la comunicación.',
        'Puedes solicitar acceso, rectificación o eliminación escribiendo a info@nonome.es.'
      ]
    : [
        'This site does not use analytics or tracking in v1.',
        'If you contact us by email, we will use your data only to reply and manage the conversation.',
        'You can request access, correction, or deletion by writing to info@nonome.es.'
      ],
  cookies: isEs
    ? [
        'Este sitio no requiere cookies para su funcionamiento básico.',
        'Algunos recursos (por ejemplo, GitHub Pages/tu navegador) pueden establecer cookies técnicas propias. No controlamos cookies de terceros fuera de este dominio.'
      ]
    : [
        'This site does not require cookies for core functionality.',
        'Some resources (e.g., GitHub Pages/your browser) may set their own technical cookies. We do not control third-party cookies outside this domain.'
      ]
};
---

<Layout lang={lang} title={t.title}>
  <Header lang={lang} />

  <main class="pageMain pageMain--top">
    <div class="container--wide">
      <h1 class="pageTitle">{t.h1}</h1>

      <section>
        <h2 class="sectionTitle">{t.noticeTitle}</h2>
        {t.notice.map((line) => <p class="bodyText">{line}</p>)}
      </section>

      <section>
        <h2 class="sectionTitle">{t.privacyTitle}</h2>
        {t.privacy.map((line) => <p class="bodyText">{line}</p>)}
      </section>

      <section>
        <h2 class="sectionTitle">{t.cookiesTitle}</h2>
        {t.cookies.map((line) => <p class="bodyText">{line}</p>)}
      </section>
    </div>
  </main>

  <Footer lang={lang} />
</Layout>
